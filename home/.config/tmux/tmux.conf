# True color support
set -g default-terminal "tmux-256color"
set -as terminal-features ",xterm-256color:RGB"

# Mouse support
set -g mouse on

# Pane navigation without wrap-around
bind -r Left if-shell "[ $(tmux display -p '#{pane_at_left}') -eq 0 ]" "select-pane -L"
bind -r Right if-shell "[ $(tmux display -p '#{pane_at_right}') -eq 0 ]" "select-pane -R"
bind -r Up if-shell "[ $(tmux display -p '#{pane_at_top}') -eq 0 ]" "select-pane -U"
bind -r Down if-shell "[ $(tmux display -p '#{pane_at_bottom}') -eq 0 ]" "select-pane -D"

# Start window/pane numbering at 1
set -g base-index 1
set -g pane-base-index 1

# Keybindings
# New window (limit 9)
bind c if-shell "[ #{session_windows} -lt 9 ]" "new-window" ""
# Split pane (inherit current directory)
bind '"' split-window -v -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"
# Close pane or window
bind w if-shell "[ #{window_panes} -gt 1 ]" "kill-pane" "kill-window"
# Move window (left/right)
bind H swap-window -t -1\; select-window -t -1
bind L swap-window -t +1\; select-window -t +1

# Status bar
set -g status-interval 1
set -g status-position top
set -g status-style 'bg=default,fg=white'
set -g window-status-format '  #I:#W#(~/.config/tmux/scripts/claude-code-status.sh #I)  '
set -g window-status-current-format '  #I:#W#(~/.config/tmux/scripts/claude-code-status.sh #I)  '
set -g window-status-current-style 'bg=#3e4452,fg=brightwhite'
set -g status-right '#{pane_title}'

# Pane border (One Dark Pro colors)
set -g pane-border-style 'fg=#636b78'
set -g pane-active-border-style 'fg=#7f848e'
